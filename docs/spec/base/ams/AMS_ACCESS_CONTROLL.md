## 未病フロント アクセスコントロール

未病データベースにおけるアクセスコントロールについて記載する。

### 用語説明

本書では以下の用語で統一する。

| 用語       | 説明                                                  |
| ---------- | ----------------------------------------------------- |
| フロント   | 未病データベースのフロントエンド                      |
| WEKO       | 未病データベース用の WEKO3 リポジトリ（バックエンド） |
| 認証ユーザ | 目標 2 グループ所属のユーザ                           |

### 目次

- [TOP 画面](#TOP画面)
- [アイテム詳細画面](#アイテム詳細画面)
- [アイテム検索結果画面](#アイテム検索結果画面)
- [ファイル一覧画面](#ファイル一覧画面)
- [インデックス画面](#インデックス画面)

### TOP 画面

エンドポイント: `/`

#### アクセス権限

| ロール                   | グループ       | アイテム閲覧 | アイテム検索 |
| ------------------------ | -------------- | ------------ | ------------ |
| System Administrator     | 認証ユーザ     | ○            | ○            |
| 同上                     | 認証ユーザ以外 | ○            | ○            |
| Repository Administrator | 認証ユーザ     | ○            | ○            |
| 同上                     | 認証ユーザ以外 | ○            | ○            |
| Community Administrator  | 認証ユーザ     | ○            | ○            |
| 同上                     | 認証ユーザ以外 | ×※1          | × ※1         |
| Contributor              | 認証ユーザ     | ○            | ○            |
| 同上                     | 認証ユーザ以外 | × ※1         | × ※1         |
| Guest User               | 認証ユーザ以外 | × ※1         | × ※1         |

※1: オープンアクセスのアイテムは除きます。

### アイテム詳細画面

エンドポイント: `/ams/detail?sess=search?number=<アイテムID>`

#### アクセス権限

| ロール                   | グループ       | アイテム閲覧 | 　添付ファイルダウンロード　 |
| ------------------------ | -------------- | ------------ | ---------------------------- |
| System Administrator     | 認証ユーザ     | ○            | ○                            |
| 同上                     | 認証ユーザ以外 | ○            | ○                            |
| Repository Administrator | 認証ユーザ     | ○            | ○                            |
| 同上                     | 認証ユーザ以外 | ○            | ○                            |
| Community Administrator  | 認証ユーザ     | ○            | ○                            |
| 同上                     | 認証ユーザ以外 | ×※1          | ×※1                          |
| Contributor              | 認証ユーザ     | ○            | ○                            |
| 同上                     | 認証ユーザ以外 | × ※1         | ×※1                          |
| Guest User               | 認証ユーザ以外 | × ※1         | ×※1                          |

※1: オープンアクセスのアイテムは除きます。

### アイテム検索結果画面

エンドポイント: `/ams/search`

#### アクセス権限

| ロール                   | グループ       | アイテム検索 | アイテムダウンロード |
| ------------------------ | -------------- | ------------ | -------------------- |
| System Administrator     | 認証ユーザ     | ○            | ○                    |
| 同上                     | 認証ユーザ以外 | ○            | ○                    |
| Repository Administrator | 認証ユーザ     | ○            | ○                    |
| 同上                     | 認証ユーザ以外 | ○            | ○                    |
| Community Administrator  | 認証ユーザ     | ○            | ○                    |
| 同上                     | 認証ユーザ以外 | ×※1          | ×※1                  |
| Contributor              | 認証ユーザ     | ○            | ○                    |
| 同上                     | 認証ユーザ以外 | ×※1          | ×※1                  |
| Guest User               | 認証ユーザ以外 | ×※1          | ×※1                  |

※1: オープンアクセスのアイテムは除きます。

### ファイル一覧画面

エンドポイント: `/ams/files?number=<アイテムのuuid>`

#### アクセス権限

| ロール                   | グループ       | ファイル閲覧 | ファイルダウンロード |
| ------------------------ | -------------- | ------------ | -------------------- |
| System Administrator     | 認証ユーザ     | ○            | ○                    |
| 同上                     | 認証ユーザ以外 | ○            | ○                    |
| Repository Administrator | 認証ユーザ     | ○            | ○                    |
| 同上                     | 認証ユーザ以外 | ○            | ○                    |
| Community Administrator  | 認証ユーザ     | ○            | ○                    |
| 同上                     | 認証ユーザ以外 | ×※1          | ×※1                  |
| Contributor              | 認証ユーザ     | ○            | ○                    |
| 同上                     | 認証ユーザ以外 | ×※1          | ×※1                  |
| Guest User               | 認証ユーザ以外 | ×※1          | ×※1                  |

※1: オープンアクセスのアイテムは除きます。

### インデックス画面

エンドポイント: `/ams/search/<インデックスID>`

#### アクセス権限

| ロール                   | グループ       | アイテム閲覧 | アイテムダウンロード |
| ------------------------ | -------------- | ------------ | -------------------- |
| System Administrator     | 認証ユーザ     | ○            | ○                    |
| 同上                     | 認証ユーザ以外 | ○            | ○                    |
| Repository Administrator | 認証ユーザ     | ○            | ○                    |
| 同上                     | 認証ユーザ以外 | ○            | ○                    |
| Community Administrator  | 認証ユーザ     | ○            | ○                    |
| 同上                     | 認証ユーザ以外 | ×※1          | ×※1                  |
| Contributor              | 認証ユーザ     | ○            | ○                    |
| 同上                     | 認証ユーザ以外 | ×※1          | ×※1                  |
| Guest User               | 認証ユーザ以外 | ×※1          | ×※1                  |

※1: オープンアクセスのアイテムは除きます。

- > 更新履歴

<table>
<thead>
<tr class="header">
<th>日付</th>
<th>GitHubコミットID</th>
<th>更新内容</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><blockquote>
<p>2025/07/xx</p>
</blockquote></td>
<td></td>
<td>初版作成</td>
</tr>
</tr>
</tbody>
</table>
