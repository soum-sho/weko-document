## 未病フロント アクセスコントロール

未病データベースにおけるアクセスコントロールについて記載する。

### 用語説明

本書では以下の用語で統一する。

| 用語       | 説明                                |
| ---------- | ----------------------------------- |
| 認証ユーザ | 目標 2 グループ所属のログインユーザ |

### 目次

- [TOP 画面](#TOP画面)
  - [アイテム最新情報取得](#アイテム最新情報取得)
  - [アイテム検索](#アイテム検索)
  - [インデックス階層取得](#インデックス階層取得)
- [アイテム詳細画面](#アイテム詳細画面)
  - [アイテム詳細取得](#アイテム詳細取得)
  - [アイテム検索](#アイテム検索)
  - [インデックス階層取得](#インデックス階層取得)
  - [添付ファイルダウンロード](#添付ファイルダウンロード)
  - [ダウンロードランキング取得](#ダウンロードランキング取得)
  - [プロジェクト URL へのアクセス](#プロジェクトURLへのアクセス)
  - [リクエストメール送信](#リクエストメール送信)
  - [OAI-PMH エクスポート](#OAI-PMHエクスポート)
  - [OtherFormats エクスポート](#OtherFormatsエクスポート)
- [アイテム検索結果画面](#アイテム検索結果画面)
  - [アイテム情報取得](#アイテム情報取得)
  - [アイテム検索](#アイテム検索)
  - [アイテム一括ダウンロード](#アイテム一括ダウンロード)
- [ファイル一覧画面](#ファイル一覧画面)
  - [ファイル詳細取得](#ファイル詳細取得)
  - [ファイル単一ダウンロード](#ファイル単一ダウンロード)
  - [ファイル選択ダウンロード](#ファイル選択ダウンロード)
  - [ファイル一括ダウンロード](#ファイル一括ダウンロード)
  - [ファイルプレビュー](#ファイルプレビュー)
- [インデックス画面](#インデックス画面)
  - [アイテム情報取得](#アイテム情報取得)
  - [アイテム検索](#アイテム検索)
  - [親インデックス階層取得](#親インデックス階層取得)
  - [アイテム一括ダウンロード](#アイテム一括ダウンロード)

### TOP 画面

エンドポイント: `/`

#### アイテム最新情報取得

| ロール       | システム<br>管理者 | リポジトリ<br>管理者 | 　 コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>(未ログイン) |
| ------------ | ------------------ | -------------------- | ------------------------- | ------------ | ------------ | ---------------------- |
| 認証ユーザ   | ○                  | ○                    | 　 ○                      | ○            | ○            | -                      |
| 非認証ユーザ | ○                  | ○                    | 　 △(※1)                  | △(※1)        | △(※1)        | △(※1)                  |

○: 取得可、△: 一部取得可

※1: オープンアクセスのアイテムのみ可能です。

- 取得可の場合

  アイテムの最新情報が表示されます。

#### アイテム検索

| ロール       | システム<br>管理者 | リポジトリ<br>管理者 | 　 コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>(未ログイン) |
| ------------ | ------------------ | -------------------- | ------------------------- | ------------ | ------------ | ---------------------- |
| 認証ユーザ   | ○                  | ○                    | 　 ○                      | ○            | ○            | -                      |
| 非認証ユーザ | ○                  | ○                    | 　 △(※1)                  | △(※1)        | △(※1)        | △(※1)                  |

○: 検索可、△: 一部検索可

※1: オープンアクセスのアイテムのみ可能です。

- 検索可の場合

  データセットの名称（タイトル）などからアイテムの検索が可能です。

#### インデックス階層取得

| ロール       | システム<br>管理者 | リポジトリ<br>管理者 | 　 コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>(未ログイン) |
| ------------ | ------------------ | -------------------- | ------------------------- | ------------ | ------------ | ---------------------- |
| 認証ユーザ   | ○                  | ○                    | 　 ○                      | ○            | ○            | -                      |
| 非認証ユーザ | ○                  | ○                    | 　 △(※1)                  | △(※1)        | △(※1)        | △(※1)                  |

○: 取得可、△: 一部取得可

※1: オープンアクセスのアイテムのみ可能です。

- 取得可の場合

  インデックスを閲覧することが出来ます。<br>
  インデックス名を押下すると[インデックス画面]へ遷移します。

### アイテム詳細画面

エンドポイント: `/ams/detail?sess=search?number=<アイテムID>`

#### アイテム詳細取得

| ロール       | システム<br>管理者 | リポジトリ<br>管理者 | 　 コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>(未ログイン) |
| ------------ | ------------------ | -------------------- | ------------------------- | ------------ | ------------ | ---------------------- |
| 認証ユーザ   | ○                  | ○                    | 　 ○                      | ○            | ○            | -                      |
| 非認証ユーザ | ○                  | ○                    | 　 △(※1)                  | △(※1)        | △(※1)        | △(※1)                  |

○: 取得可、△: 一部取得可

※1: オープンアクセスのアイテムのみ操作可能です。

- 取得可の場合

  アイテム詳細情報を取得し、閲覧することが出来ます。

#### アイテム検索

| ロール       | システム<br>管理者 | リポジトリ<br>管理者 | 　 コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>(未ログイン) |
| ------------ | ------------------ | -------------------- | ------------------------- | ------------ | ------------ | ---------------------- |
| 認証ユーザ   | ○                  | ○                    | 　 ○                      | ○            | ○            | -                      |
| 非認証ユーザ | ○                  | ○                    | 　 △(※1)                  | △(※1)        | △(※1)        | △(※1)                  |

○: 検索可、△: 一部検索可

※1: オープンアクセスのアイテムのみ操作可能です。

- 検索可の場合

  データセットの名称（タイトル）などからアイテムの検索が可能です。

#### インデックス階層取得

| ロール       | システム<br>管理者 | リポジトリ<br>管理者 | 　 コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>(未ログイン) |
| ------------ | ------------------ | -------------------- | ------------------------- | ------------ | ------------ | ---------------------- |
| 認証ユーザ   | ○                  | ○                    | 　 ○                      | ○            | ○            | -                      |
| 非認証ユーザ | ○                  | ○                    | 　 △(※1)                  | △(※1)        | △(※1)        | △(※1)                  |

○: 取得可、△: 一部取得可

※1: オープンアクセスのアイテムのみ操作可能です。

- 取得可の場合

  インデックスを閲覧することが出来ます。<br>
  インデックス名を押下すると[インデックス画面]へ遷移します。

#### 添付ファイルダウンロード

| ロール       | システム<br>管理者 | リポジトリ<br>管理者 | 　 コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>(未ログイン) |
| ------------ | ------------------ | -------------------- | ------------------------- | ------------ | ------------ | ---------------------- |
| 認証ユーザ   | ○                  | ○                    | 　 ○                      | ○            | ○            | -                      |
| 非認証ユーザ | ○                  | ○                    | 　 △(※1)                  | △(※1)        | △(※1)        | △(※1)                  |

○: ダウンロード可、△: 一部ダウンロード可

※1: オープンアクセスのアイテムのみ操作可能です。

- ダウンロード可の場合

  添付ファイルのダウンロードを行うことが出来ます。

#### ダウンロードランキング取得

| ロール       | システム<br>管理者 | リポジトリ<br>管理者 | 　 コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>(未ログイン) |
| ------------ | ------------------ | -------------------- | ------------------------- | ------------ | ------------ | ---------------------- |
| 認証ユーザ   | ○                  | ○                    | 　 ○                      | ○            | ○            | -                      |
| 非認証ユーザ | ○                  | ○                    | 　 △(※1)                  | △(※1)        | △(※1)        | △(※1)                  |

○: 取得可、△: 一部取得可

アイテムにファイルが添付されている場合に取得出来ます。

- 取得可の場合

  添付ファイルのダウンロードランキングを取得することが出来ます。

※1: オープンアクセスのアイテムのみ操作可能です。

#### プロジェクト URL へのアクセス

| ロール       | システム<br>管理者 | リポジトリ<br>管理者 | 　 コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>(未ログイン) |
| ------------ | ------------------ | -------------------- | ------------------------- | ------------ | ------------ | ---------------------- |
| 認証ユーザ   | ○                  | ○                    | 　 ○                      | ○            | ○            | -                      |
| 非認証ユーザ | ○                  | ○                    | 　 △(※1)                  | △(※1)        | △(※1)        | △(※1)                  |

○: アクセス可、△: 一部アクセス可

アイテムにプロジェクト URL が設定され、かつプロジェクト URL の関連タイプが isVersionOf の場合に GRDM ボタンが表示されます。

※1: オープンアクセスのアイテムのみ操作可能です。

- アクセス可の場合

  [GRDM ボタン]が表示されます。<br>
  [GRDM ボタン]を押下すると別ウィンドウで[プロジェクト URL]が開きます。

#### リクエストメール送信

| ロール       | システム<br>管理者 | リポジトリ<br>管理者 | 　 コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>(未ログイン) |
| ------------ | ------------------ | -------------------- | ------------------------- | ------------ | ------------ | ---------------------- |
| 認証ユーザ   | ○                  | ○                    | 　 ○                      | ○            | ○            | -                      |
| 非認証ユーザ | ○                  | ○                    | 　 △(※1)                  | △(※1)        | △(※1)        | △(※1)                  |

○: 送信可、△: 一部送信可

アイテムにプロジェクト URL がなく、リクエストメールアドレスが設定されている場合にリクエストボタンが表示されます。

※1: オープンアクセスのアイテムのみ操作可能です。

- 送信可の場合

  [リクエストボタン]が表示されます。<br>
  [リクエストボタン]を押下すると[リクエストメールフォーム]が開きます。

#### OAI-PMH エクスポート

| ロール       | システム<br>管理者 | リポジトリ<br>管理者 | 　 コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>(未ログイン) |
| ------------ | ------------------ | -------------------- | ------------------------- | ------------ | ------------ | ---------------------- |
| 認証ユーザ   | ○                  | ○                    | 　 ○                      | ○            | ○            | -                      |
| 非認証ユーザ | ○                  | ○                    | 　 △(※1)                  | △(※1)        | △(※1)        | △(※1)                  |

○: エクスポート可、△: 一部エクスポート可

※1: オープンアクセスのアイテムのみ操作可能です。

- エクスポート可の場合

  アイテム詳細画面の OAI-PMH のリンク（例： `JPCOAR`）を押下すると別ウィンドウに`エクスポート結果`が表示されます。

#### Other Formats エクスポート

| ロール       | システム<br>管理者 | リポジトリ<br>管理者 | 　 コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>(未ログイン) |
| ------------ | ------------------ | -------------------- | ------------------------- | ------------ | ------------ | ---------------------- |
| 認証ユーザ   | ○                  | ○                    | 　 ○                      | ○            | ○            | -                      |
| 非認証ユーザ | ○                  | ○                    | 　 △(※1)                  | △(※1)        | △(※1)        | △(※1)                  |

○: エクスポート可、△: 一部エクスポート可

※1: オープンアクセスのアイテムのみ操作可能です。

- エクスポート可の場合

  アイテム詳細画面のフォーマットのリンク（例： `JSON`）を押下すると別ウィンドウに`エクスポート結果`が表示されます。

### アイテム検索結果画面

エンドポイント: `/ams/search`

#### アイテム情報取得

| ロール       | システム<br>管理者 | リポジトリ<br>管理者 | 　 コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>(未ログイン) |
| ------------ | ------------------ | -------------------- | ------------------------- | ------------ | ------------ | ---------------------- |
| 認証ユーザ   | ○                  | ○                    | 　 ○                      | ○            | ○            | -                      |
| 非認証ユーザ | ○                  | ○                    | 　 △(※1)                  | △(※1)        | △(※1)        | △(※1)                  |

○: 取得可、△: 一部取得可

※1: オープンアクセスのアイテムのみ操作可能です。

- 取得可の場合

  アイテムの概要情報を閲覧することが出来ます。

#### アイテム検索

| ロール       | システム<br>管理者 | リポジトリ<br>管理者 | 　 コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>(未ログイン) |
| ------------ | ------------------ | -------------------- | ------------------------- | ------------ | ------------ | ---------------------- |
| 認証ユーザ   | ○                  | ○                    | 　 ○                      | ○            | ○            | -                      |
| 非認証ユーザ | ○                  | ○                    | 　 △(※1)                  | △(※1)        | △(※1)        | △(※1)                  |

○: 検索可、△: 一部検索可

※1: オープンアクセスのアイテムのみ操作可能です。

- 検索可の場合

  データセットの名称（タイトル）などからアイテムの検索が可能です。

#### アイテム一括ダウンロード

| ロール       | システム<br>管理者 | リポジトリ<br>管理者 | 　 コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>(未ログイン) |
| ------------ | ------------------ | -------------------- | ------------------------- | ------------ | ------------ | ---------------------- |
| 認証ユーザ   | ○                  | ○                    | 　 ○                      | ○            | ○            | -                      |
| 非認証ユーザ | ○                  | ○                    | 　 △(※1)                  | △(※1)        | △(※1)        | △(※1)                  |

○: ダウンロード可、△: 一部ダウンロード可

※1: オープンアクセスのアイテムのみ操作可能です。

- ダウンロード可の場合

  アイテムの一括ダウンロードを行うことが出来ます。

### ファイル一覧画面

エンドポイント: `/ams/files?number=<アイテムID>`

#### ファイル詳細取得

| ロール       | システム<br>管理者 | リポジトリ<br>管理者 | 　 コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>(未ログイン) |
| ------------ | ------------------ | -------------------- | ------------------------- | ------------ | ------------ | ---------------------- |
| 認証ユーザ   | ○                  | ○                    | 　 ○                      | ○            | ○            | -                      |
| 非認証ユーザ | ○                  | ○                    | 　 △(※1)                  | △(※1)        | △(※1)        | △(※1)                  |

○: 取得可、△: 一部取得可

※1: オープンアクセスのアイテムのみ操作可能です。

- 取得可の場合

  ファイルの詳細情報を閲覧することが出来ます。

#### ファイル単一ダウンロード

| ロール       | システム<br>管理者 | リポジトリ<br>管理者 | 　 コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>(未ログイン) |
| ------------ | ------------------ | -------------------- | ------------------------- | ------------ | ------------ | ---------------------- |
| 認証ユーザ   | ○                  | ○                    | 　 ○                      | ○            | ○            | -                      |
| 非認証ユーザ | ○                  | ○                    | 　 △(※1)                  | △(※1)        | △(※1)        | △(※1)                  |

○: ダウンロード可、△: 一部ダウンロード可

※1: オープンアクセスのアイテムのみ操作可能です。

- ダウンロード可の場合

  選択した 1 つのファイルのダウンロードを行うことが出来ます。

#### ファイル選択ダウンロード

| ロール       | システム<br>管理者 | リポジトリ<br>管理者 | 　 コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>(未ログイン) |
| ------------ | ------------------ | -------------------- | ------------------------- | ------------ | ------------ | ---------------------- |
| 認証ユーザ   | ○                  | ○                    | 　 ○                      | ○            | ○            | -                      |
| 非認証ユーザ | ○                  | ○                    | 　 △(※1)                  | △(※1)        | △(※1)        | △(※1)                  |

○: ダウンロード可、△: 一部ダウンロード可

※1: オープンアクセスのアイテムのみ操作可能です。

- ダウンロード可の場合

  選択したファイルを一括でダウンロードすることが出来ます。

#### ファイル一括ダウンロード

| ロール       | システム<br>管理者 | リポジトリ<br>管理者 | 　 コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>(未ログイン) |
| ------------ | ------------------ | -------------------- | ------------------------- | ------------ | ------------ | ---------------------- |
| 認証ユーザ   | ○                  | ○                    | 　 ○                      | ○            | ○            | -                      |
| 非認証ユーザ | ○                  | ○                    | 　 △(※1)                  | △(※1)        | △(※1)        | △(※1)                  |

○: ダウンロード可、△: 一部ダウンロード可

※1: オープンアクセスのアイテムのみ操作可能です。

- ダウンロード可の場合

  すべてのファイルのダウンロードを行うことが出来ます。

#### ファイルプレビュー

| ロール       | システム<br>管理者 | リポジトリ<br>管理者 | 　 コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>(未ログイン) |
| ------------ | ------------------ | -------------------- | ------------------------- | ------------ | ------------ | ---------------------- |
| 認証ユーザ   | ○                  | ○                    | 　 ○                      | ○            | ○            | -                      |
| 非認証ユーザ | ○                  | ○                    | 　 △(※1)                  | △(※1)        | △(※1)        | △(※1)                  |

○: プレビュー可、△: 一部プレビュー可

※1: オープンアクセスのアイテムのみ操作可能です。

- プレビュー可の場合

  選択したファイルのプレビューを行うことが出来ます。

### インデックス画面

エンドポイント: `/ams/search/<インデックスID>`

#### アイテム情報取得

| ロール       | システム<br>管理者 | リポジトリ<br>管理者 | 　 コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>(未ログイン) |
| ------------ | ------------------ | -------------------- | ------------------------- | ------------ | ------------ | ---------------------- |
| 認証ユーザ   | ○                  | ○                    | 　 ○                      | ○            | ○            | -                      |
| 非認証ユーザ | ○                  | ○                    | 　 △(※1)                  | △(※1)        | △(※1)        | △(※1)                  |

○: 取得可、△: 一部取得可

※1: オープンアクセスのアイテムのみ操作可能です。

- 取得可の場合

  アイテムの概要情報を閲覧することが出来ます。

#### アイテム検索

| ロール       | システム<br>管理者 | リポジトリ<br>管理者 | 　 コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>(未ログイン) |
| ------------ | ------------------ | -------------------- | ------------------------- | ------------ | ------------ | ---------------------- |
| 認証ユーザ   | ○                  | ○                    | 　 ○                      | ○            | ○            | -                      |
| 非認証ユーザ | ○                  | ○                    | 　 △(※1)                  | △(※1)        | △(※1)        | △(※1)                  |

○: 検索可、△: 一部検索可

※1: オープンアクセスのアイテムのみ操作可能です。

- 検索可の場合

  データセットの名称（タイトル）などからアイテムの検索が可能です。

#### 親インデックス階層取得

| ロール       | システム<br>管理者 | リポジトリ<br>管理者 | 　 コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>(未ログイン) |
| ------------ | ------------------ | -------------------- | ------------------------- | ------------ | ------------ | ---------------------- |
| 認証ユーザ   | ○                  | ○                    | 　 ○                      | ○            | ○            | -                      |
| 非認証ユーザ | ○                  | ○                    | 　 △(※1)                  | △(※1)        | △(※1)        | △(※1)                  |

○: 取得可、△: 一部取得可

※1: オープンアクセスのアイテムのみ操作可能です。

- 取得可の場合

  親インデックス情報を取得し、閲覧することが出来ます。

#### アイテム一括ダウンロード

| ロール       | システム<br>管理者 | リポジトリ<br>管理者 | 　 コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>(未ログイン) |
| ------------ | ------------------ | -------------------- | ------------------------- | ------------ | ------------ | ---------------------- |
| 認証ユーザ   | ○                  | ○                    | 　 ○                      | ○            | ○            | -                      |
| 非認証ユーザ | ○                  | ○                    | 　 △(※1)                  | △(※1)        | △(※1)        | △(※1)                  |

○: ダウンロード可、△: 一部ダウンロード可

※1: オープンアクセスのアイテムのみ操作可能です。

- ダウンロード可の場合

  アイテムのダウンロードを行うことが出来ます。

- > 更新履歴

<table>
<thead>
<tr class="header">
<th>日付</th>
<th>GitHubコミットID</th>
<th>更新内容</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><blockquote>
<p>2025/07/14</p>
</blockquote></td>
<td></td>
<td>初版作成</td>
</tr>
</tr>
</tbody>
</table>
