# アイテム

アイテムに関するAPIのアクセスコントロールについて記述します。

## 目次

- [アイテム検索用API（未病）](#アイテム検索用api未病)
- [アイテム検索用API（WEKO3）](#アイテム検索用apiWEKO3)
- [アイテム詳細情報取得API](#アイテム詳細情報取得api)
- [選択期間のアイテム閲覧数取得API](#選択期間のアイテム閲覧数取得api)
- [検索結果一覧取得API](#検索結果一覧取得api)
- [インデックス検索API](#インデックス検索api)
- [レコードの書き換えAPI](#レコードの書き換えapi)

## アイテム検索用API（未病）

エンドポイント：[GET] /api/<version>/records

使用出来る画面：未病フロント

いずれかの○に合致すれば、アイテム検索用APIを使用することが出来ます。

#### インデックス閲覧権限：あり

| 条件/ロール                       | システム<br>管理者 | リポジトリ<br>管理者 | コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>（未ログイン） |
| --------------------------------- | ------------------ | -------------------- | ---------------------- | ------------ | ------------ | ------------------------ |
| トークンに<br>item:read<br>がある | ○                  | ○                    | ○                      | ○            | ○            | ×                        |
| 上記以外                          | ×                  | ×                    | ×                      | ×            | ×            | ○                        |

#### インデックス閲覧権限：なし

| ロール   | システム<br>管理者 | リポジトリ<br>管理者 | コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>（未ログイン） |
| -------- | ------------------ | -------------------- | ---------------------- | ------------ | ------------ | ------------------------ |
| 利用可否 | ー                 | ー                   | ×                      | ×            | ×            | ×                        |

## アイテム検索用API（WEKO3）

エンドポイント：[GET] /api/records/

使用出来る画面：WEKO3

いずれかの○に合致すれば、アイテム検索用APIを使用することが出来ます。

#### インデックス閲覧権限：あり

| 条件/ロール                       | システム<br>管理者 | リポジトリ<br>管理者 | コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>（未ログイン） |
| --------------------------------- | ------------------ | -------------------- | ---------------------- | ------------ | ------------ | ------------------------ |
| トークンに<br>item:read<br>がある | ○                  | ○                    | ○                      | ○            | ○            | ×                        |
| 上記以外                          | ×                  | ×                    | ×                      | ×            | ×            | ○                        |

#### インデックス閲覧権限：なし

| ロール   | システム<br>管理者 | リポジトリ<br>管理者 | コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>（未ログイン） |
| -------- | ------------------ | -------------------- | ---------------------- | ------------ | ------------ | ------------------------ |
| 利用可否 | ー                 | ー                   | ×                      | ×            | ×            | ×                        |

## アイテム詳細情報取得API

エンドポイント：[GET] /api/<version>/records/<pid_value>

いずれかの○に合致すれば、アイテム詳細情報取得APIを使用することが出来ます。

#### インデックス閲覧権限：あり

| 条件/ロール                       | システム<br>管理者 | リポジトリ<br>管理者 | コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>（未ログイン） |
| --------------------------------- | ------------------ | -------------------- | ---------------------- | ------------ | ------------ | ------------------------ |
| トークンに<br>item:read<br>がある | ○                  | ○                    | ○                      | ○            | ○            | ×                        |
| 上記以外                          | ×                  | ×                    | ×                      | ×            | ×            | ○                        |

#### インデックス閲覧権限：なし

| ロール   | システム<br>管理者 | リポジトリ<br>管理者 | コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>（未ログイン） |
| -------- | ------------------ | -------------------- | ---------------------- | ------------ | ------------ | ------------------------ |
| 利用可否 | ー                 | ー                   | ×                      | ×            | ×            | ×                        |

## 選択期間のアイテム閲覧数取得API

エンドポイント：[GET] /api/<version>/records/<pid_value>/stats

いずれかの○に合致すれば、選択期間のアイテム閲覧数取得APIを使用することが出来ます。

#### インデックス閲覧権限：あり

| 条件/ロール                       | システム<br>管理者 | リポジトリ<br>管理者 | コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>（未ログイン） |
| --------------------------------- | ------------------ | -------------------- | ---------------------- | ------------ | ------------ | ------------------------ |
| トークンに<br>item:read<br>がある | ○                  | ○                    | ○                      | ○            | ○            | ×                        |
| 上記以外                          | ×                  | ×                    | ×                      | ×            | ×            | ○                        |

#### インデックス閲覧権限：なし

| ロール   | システム<br>管理者 | リポジトリ<br>管理者 | コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>（未ログイン） |
| -------- | ------------------ | -------------------- | ---------------------- | ------------ | ------------ | ------------------------ |
| 利用可否 | ー                 | ー                   | ×                      | ×            | ×            | ×                        |

## 検索結果一覧取得API

エンドポイント：[POST] /api/<version>/records/list

いずれかの○に合致すれば、検索結果一覧取得APIを使用することが出来ます。

#### インデックス閲覧権限：あり

| 条件/ロール                       | システム<br>管理者 | リポジトリ<br>管理者 | コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>（未ログイン） |
| --------------------------------- | ------------------ | -------------------- | ---------------------- | ------------ | ------------ | ------------------------ |
| トークンに<br>item:read<br>がある | ○                  | ○                    | ○                      | ○            | ○            | ×                        |
| 上記以外                          | ×                  | ×                    | ×                      | ×            | ×            | ○                        |

#### インデックス閲覧権限：なし

| ロール   | システム<br>管理者 | リポジトリ<br>管理者 | コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>（未ログイン） |
| -------- | ------------------ | -------------------- | ---------------------- | ------------ | ------------ | ------------------------ |
| 利用可否 | ー                 | ー                   | ×                      | ×            | ×            | ×                        |

## インデックス検索API

エンドポイント：[GET] /api/index/

いずれかの○に合致すれば、インデックス検索APIを使用することが出来ます。

| 条件/ロール                       | システム<br>管理者 | リポジトリ<br>管理者 | コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>（未ログイン） |
| --------------------------------- | ------------------ | -------------------- | ---------------------- | ------------ | ------------ | ------------------------ |
| インデックス<br>閲覧権限:<br>あり | ○                  | ○                    | ○                      | ○            | ○            | ○                        |
| インデックス<br>閲覧権限:<br>なし | ー                 | ー                   | ×                      | ×            | ×            | ×                        |

## レコードの書き換えAPI

エンドポイント：[PUT] /api/records/

いずれかの○に合致すれば、レコードの書き換えAPIを使用することが出来ます。

| 条件/ロール              | システム<br>管理者 | リポジトリ<br>管理者 | コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>（未ログイン） |
| ------------------------ | ------------------ | -------------------- | ---------------------- | ------------ | ------------ | ------------------------ |
| アイテム作成者：<br>自分 | ○                  | ○                    | ○                      | ○            | ×            | ×                        |
| 代理投稿者：<br>自分     | ○                  | ○                    | ○                      | ○            | ○            | ×                        |
| 上記以外                 | ○                  | ○                    | ×                      | ×            | ×            | ×                        |

- > 更新履歴

<table>
<thead>
<tr class="header">
<th>日付</th>
<th>GitHubコミットID</th>
<th>更新内容</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><blockquote>
<p>2025/8/5</p>
</blockquote></td>
<td></td>
<td>初版作成</td>
</tr>
</tbody>
</table>
