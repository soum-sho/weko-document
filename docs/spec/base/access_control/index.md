# アクセスコントロール

## 目次

- [アクセスコントロール](#アクセスコントロール)
  - [目次](#目次)
  - [アイテム](#アイテム)
    - [アイテム閲覧](#アイテム閲覧)
    - [アイテム編集](#アイテム編集)
    - [アイテム削除](#アイテム削除)
    - [バージョン削除](#バージョン削除)
    - [公開ステータス変更](#公開ステータス変更)
    - [リクエストメール](#リクエストメール)
    - [エクスポート](#エクスポート)
      - [OAI-PMH](#oai-pmh)
      - [Other Formats](#other-formats)
    - [コミュニティ](#コミュニティ)
  - [インデックス](#インデックス)
    - [インデックス閲覧](#インデックス閲覧)
    - [インデックス編集](#インデックス編集)
    - [インデックス削除](#インデックス削除)
  - [ファイル](#ファイル)
    - [ファイルダウンロード](#ファイルダウンロード)
    - [ファイル情報](#ファイル情報)
    - [制限公開用のコンテンツファイル](#制限公開用のコンテンツファイル)
      - [利用申請機能](#利用申請機能)
  - [ワークフロー](#ワークフロー)
  - [アクティビティ作成](#アクティビティ作成)
  - [アクティビティ承認](#アクティビティ承認)
  - [アクティビティ削除](#アクティビティ削除)
  - [コニュニティ画面](#コニュニティ画面)
  - [アカウント設定画面](#アカウント設定画面)
    - [プロフィール](#プロフィール)
    - [secrity](#secrity)
    - [通知](#通知)
    - [アプリケーション](#アプリケーション)
    - [Groups](#groups)
    - [セッション](#セッション)
    - [Administration](#administration)
    - [Workspace](#workspace)
  - [ワークスペース画面](#ワークスペース画面)
  - [管理画面](#管理画面)
    - [アイテムタイプ管理](#アイテムタイプ管理)
    - [アイテム管理](#アイテム管理)
      - [インデックスツリー管理](#インデックスツリー管理)
    - [ウェブデザイン管理](#ウェブデザイン管理)
    - [著者 DB 管理](#著者-db-管理)
    - [統計](#統計)
    - [ワークフロー管理](#ワークフロー管理)
    - [コミュニティ管理](#コミュニティ管理)
    - [OAI-PMH](#oai-pmh-1)
    - [Resource Sync](#resource-sync)
    - [SWORD API](#sword-api)
    - [ファイル管理](#ファイル管理)
    - [レコード管理](#レコード管理)
    - [ユーザー管理](#ユーザー管理)
    - [設定](#設定)
    - [ログ管理](#ログ管理)
    - [メンテナンス](#メンテナンス)
  - [API へのアクセス](#api-へのアクセス)
    - [アイテム](#アイテム-1)
    - [ファイル](#ファイル-1)
    - [インデックス](#インデックス-1)
      - [API を利用可能なロール](#api-を利用可能なロール)
      - [アクセストークンに必要なスコープ](#アクセストークンに必要なスコープ)
    - [アクティビティ](#アクティビティ)
    - [Opensearch](#opensearch)
    - [著者](#著者)
    - [リクエストメール](#リクエストメール-1)
    - [ログイン](#ログイン)
    - [OAステータス](#oa-ステータス)
    - [SWORD API](#sword-api-1)
    - [制限公開機能](#制限公開機能)

## アイテム

アイテム詳細画面の機能について記述します。

エンドポイント: /records/<アイテムID>

### アイテム閲覧

| ロール       | システム<br>管理者 | リポジトリ<br>管理者 | 　 コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>(未ログイン) |
| ------------ | ------------------ | -------------------- | ------------------------- | ------------ | ------------ | ---------------------- |
| アイテム閲覧 | ○                  | ○                    | 　 △(※1)                  | △(※2)        | △(※3)        | △(※3)                  |

※1: 管理対象のコミュニティに属するアイテム、およびオープンアクセスのアイテムの操作が可能です。<br>
※2: 所属するコミュニティのアイテム、およびオープンアクセスのアイテムの操作が可能です。<br>
※3: オープンアクセスのアイテムの操作が可能です。

### アイテム編集

| ロール       | システム<br>管理者 | リポジトリ<br>管理者 | 　 コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>(未ログイン) |
| ------------ | ------------------ | -------------------- | ------------------------- | ------------ | ------------ | ---------------------- |
| アイテム編集 | ○                  | ○                    | 　 △(※1)                  | △(※2)        | ×            | ×                      |

※1: 管理対象のコミュニティに属するアイテムの操作が可能です。<br>
※2: 所属するコミュニティのアイテムの操作が可能です。

### アイテム削除

| ロール       | システム<br>管理者 | リポジトリ<br>管理者 | 　 コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>(未ログイン) |
| ------------ | ------------------ | -------------------- | ------------------------- | ------------ | ------------ | ---------------------- |
| アイテム削除 | ○                  | ○                    | 　 △(※1)                  | △(※2)        | ×            | ×                      |

※1: 管理対象のコミュニティに属するアイテムの操作が可能です。<br>
※2: 所属するコミュニティのアイテムの操作が可能です。

- `DOI`が付与されているアイテムは削除出来ません。<br>
- `DOI`が付与されているアイテムに対して、アイテムが直接紐づいているインデックスとその上位のインデックスのうち1つでも`非表示設定`がある場合も削除出来ません。

### バージョン削除

| ロール         | システム<br>管理者 | リポジトリ<br>管理者 | 　 コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>(未ログイン) |
| -------------- | ------------------ | -------------------- | ------------------------- | ------------ | ------------ | ---------------------- |
| バージョン削除 | ○                  | ○                    | 　 △(※1)                  | △(※2)        | ×            | ×                      |

※1: 管理対象のコミュニティに属するアイテムの操作が可能です。<br>
※2: 所属するコミュニティのアイテムの操作が可能です。

- アイテムに`バージョン`が複数あり、かつユーザーに削除権限がある場合に本機能の利用が可能です。

### 公開ステータス変更

| ロール             | システム<br>管理者 | リポジトリ<br>管理者 | 　 コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>(未ログイン) |
| ------------------ | ------------------ | -------------------- | ------------------------- | ------------ | ------------ | ---------------------- |
| 公開ステータス変更 | ○                  | ○                    | 　 △(※1)                  | △(※2)        | ×            | ×                      |

※1: 管理対象のコミュニティに属するアイテムの操作が可能です。<br>
※2: 所属するコミュニティのアイテムの操作が可能です。

- `DOI`が付与されているアイテムはステータスを非公開に変更することは出来ません。

### リクエストメール

| ロール     | システム<br>管理者 | リポジトリ<br>管理者 | 　 コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>(未ログイン) |
| ---------- | ------------------ | -------------------- | ------------------------- | ------------ | ------------ | ---------------------- |
| メール送信 | ○                  | ○                    | 　 △(※1)                  | △(※2)        | △(※3)        | △(※3)                  |

※1: 管理対象のコミュニティに属するアイテム、およびオープンアクセスのアイテムの操作が可能です。<br>
※2: 所属するコミュニティのアイテム、およびオープンアクセスのアイテムの操作が可能です。<br>
※3: オープンアクセスのアイテムの操作が可能です。

- アイテム登録時、および編集時にリクエストメールの送信先が設定されていれば、本機能の利用が可能です。

### 利用申請

| ロール   | システム<br>管理者 | リポジトリ<br>管理者 | 　 コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>(未ログイン) |
| -------- | ------------------ | -------------------- | ------------------------- | ------------ | ------------ | ---------------------- |
| 利用申請 | ×                  | ×                    | 　 ×                      | ×            | ×            | ○                      |

- パスワードチェック機能が`ON`で、ユーザーがログインしていない場合のみ[申請]ボタンが表示されます。

### エクスポート

#### OAI-PMH

エンドポイント: `/oai`

| ロール       | システム<br>管理者 | リポジトリ<br>管理者 | 　 コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>(未ログイン) |
| ------------ | ------------------ | -------------------- | ------------------------- | ------------ | ------------ | ---------------------- |
| エクスポート | ○                  | ○                    | 　 △(※1)                  | △(※2)        | △(※3)        | △(※3)                  |

※1: 管理対象のコミュニティに属するアイテム、およびオープンアクセスのアイテムの操作が可能です。<br>
※2: 所属するコミュニティのアイテム、およびオープンアクセスのアイテムの操作が可能です。<br>
※3: オープンアクセスのアイテムの操作が可能です。

#### Other Formats

エンドポイント: `/records/<アイテムID>/export/<フォーマット>`

| ロール       | システム<br>管理者 | リポジトリ<br>管理者 | 　 コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>(未ログイン) |
| ------------ | ------------------ | -------------------- | ------------------------- | ------------ | ------------ | ---------------------- |
| エクスポート | ○                  | ○                    | 　 △(※1)                  | △(※2)        | △(※3)        | △(※3)                  |

※1: 管理対象のコミュニティに属するアイテム、およびオープンアクセスのアイテムの操作が可能です。<br>
※2: 所属するコミュニティのアイテム、およびオープンアクセスのアイテムの操作が可能です。<br>
※3: オープンアクセスのアイテムの操作が可能です。

#### コミュニティ

| ロール               | システム<br>管理者 | リポジトリ<br>管理者 | 　 コミュニティ<br>管理者 | 登録ユーザー | 一般ユーザー | ゲスト<br>(未ログイン) |
| -------------------- | ------------------ | -------------------- | ------------------------- | ------------ | ------------ | ---------------------- |
| コミュニティ情報閲覧 | ○                  | ○                    | 　 △(※1)                  | △(※2)        | △(※3)        | △(※3)                  |

※1: 管理対象のコミュニティに属するアイテム、およびオープンアクセスのアイテムの操作が可能です。<br>
※2: 所属するコミュニティのアイテム、およびオープンアクセスのアイテムの操作が可能です。<br>
※3: オープンアクセスのアイテムの操作が可能です。

- アイテムが所属するコミュニティがある場合、コミュニティの`アイコン`と`タイトル`が表示されます。<br>
- 所属するコミュニティがない場合は、コミュニティエリアは`空`の状態で表示されます。

## インデックス

### インデックス閲覧

### インデックス編集

### インデックス削除

## ファイル

#### ファイルダウンロード

#### ファイル情報

### 制限公開用のコンテンツファイル

#### 利用申請機能

## ワークフロー

## アクティビティ作成

## アクティビティ承認

## アクティビティ削除

## コニュニティ画面

## アカウント設定画面

### プロフィール

### secrity

### 通知

### アプリケーション

### Groups

### セッション

### Administration

### Workspace

## ワークスペース画面

## 管理画面

### アイテムタイプ管理

### アイテム管理

#### インデックスツリー管理

### ウェブデザイン管理

### 著者 DB 管理

### 統計

### ワークフロー管理

### コミュニティ管理

### OAI-PMH

### Resource Sync

### SWORD API

### ファイル管理

### レコード管理

### ユーザー管理

### 設定

### ログ管理

### メンテナンス

## API へのアクセス

### アイテム

### ファイル

### インデックス

#### API を利用可能なロール

#### アクセストークンに必要なスコープ

### アクティビティ

### Opensearch

### 著者

### リクエストメール

### ログイン

### OA ステータス

### SWORD API

### 制限公開機能
